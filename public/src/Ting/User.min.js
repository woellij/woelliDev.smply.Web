Ting.User=function(){var n={},i,r=function(){return console.log("UserInit"),n},u=function(n,i){var r,u;console.log("User Register",n,i);r=new Parse.User;r.set("username",n.username);r.set("password",n.password);r.set("email",n.email);u=new Parse.Object("gender");u.set("id",n.gender.id);r.set("gender",u);r.signUp(null,{success:function(n){console.log("User created",n);t(n,i)},error:function(n,t){alert("Error: "+t.code+" "+t.message)}})},f=function(n,i,r){Parse.User.logIn(n,i,{success:function(n){t(n,r)},error:function(n){t(n,r)}})},e=function(){Parse.User.logOut();$(n).trigger("loggedout")},o=function(n){var i=Parse.User.current();i?t(i,n):t(i,n)},t=function(t,r){var f=t!=null,u={success:f};console.log("loginRes",u,t);f&&(i=t.id,u.user=h(t));$(n).trigger("loggedin",u);console.log("Logincallback",r);r!=undefined&&r(u)},s=function(){return new Parse.User({id:i})},h=function(n){return{name:n.get("username"),id:n.id}};return n.getCurrenUser=s,n.login=f,n.logout=e,n.loginStored=o,n.register=u,n.init=r,n}();
/*
//# sourceMappingURL=User.min.js.map
*/