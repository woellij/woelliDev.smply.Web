EditPinViewModel=function(){var n=this;BaseViewModel.call(n,"Edit your Pin");n.board=ko.observable();n.pin=ko.observable();this.onFinish=function(){n.isLoading(!0);var t={},i=n.pin(),r=i.selectedSite();t.title=r.title;t.description=r.description;t.src=i.src;t.ratio=i.ratio;t.url=r.url;console.log(t,n.board());Ting.Pins.create(t,n.board(),function(){n.isLoading(!1)})};this.init=function(t){var r,u,i,f;if(typeof t!=typeof undefined&&(n.pin(t.pin),n.board(t.board),t.pin.selectedSite=ko.observable(t.pin.relatedSites[0]),r=n.pin().relatedSites,r))for(u=0;u<r.length;u++)i=r[u],f=UrlHelper.resolveRealUrl(i.url),i.title||(i.title=UrlHelper.shortenURL(f,35,!0)),i.description||(i.description=""),i.url=f,console.log("Overhauled site",i)}};
/*
//# sourceMappingURL=EditPinViewModel.min.js.map
*/